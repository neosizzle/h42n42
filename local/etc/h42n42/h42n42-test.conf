<!-- DON'T EDIT THIS FILE! It is generated from h42n42.conf.in, edit that one, or the variables in Makefile.options -->
<ocsigen>
  <server>
    <port>8080</port>
    
    <logdir>local/var/log/h42n42</logdir>
    <datadir>local/var/data/h42n42</datadir>
    <charset>utf-8</charset>
    <uploaddir>/tmp</uploaddir> <!-- Customize this -->
    <usedefaulthostname/>
    <debugmode />
    <extension findlib-package="ocsigenserver.ext.accesscontrol"/>
    <extension findlib-package="ocsigenserver.ext.cors"/>
    <commandpipe>local/var/run/h42n42-cmd</commandpipe>
    <extension findlib-package="ocsigenserver.ext.staticmod"/>
    <extension findlib-package="ocsipersist.dbm">
      <!-- delayloading val="true"/ -->
      <store dir="local/var/data/h42n42"/>
      <ocsidbm name="ocsidbm"/>
    </extension>
    <!--
    <extension findlib-package="ocsipersist.sqlite">
      <database file="local/var/data/h42n42/ocsidb"/>
    </extension>
    -->
    <!--
    <extension findlib-package="ocsipersist.pgsql">
      <database
        host=""
        port=""
        user=""
        password=""
        database="ocsipersist_h42n42"
      />
    </extension>
    -->
    <extension findlib-package="eliom.server">
      <!-- Ask Eliom to ignore UTM parameters and others: -->
      <ignoredgetparams regexp="utm_[a-z]*|[a-z]*clid|li_fat_id"/>
<!-- Uncomment if you are using https only and want secure cookies:
       <securecookies value="true" />
  -->
    </extension>
    
    <host defaulthostname="localhost" hostfilter="*">
      <static dir="local/var/www/h42n42" />
      
      <eliommodule module="local/lib/h42n42/h42n42.cma">
        <app name="h42n42_09b3347812f2d91dbea55c2f4e1967a3" css="" />
        <avatars dir="local/var/www/h42n42/avatars" />
        <os-db
          host=""
          port=""
          user=""
          password=""
          database=""
        />
      </eliommodule>
      <eliom/>
      <if>
        <!-- Remove the condition (or change it to true) if you're serving an iOS app and having
             "Origin null is not allowed by Access-Control-Allow-Origin.",
             since with iOS WkWebView, your origin is a local HTML file on the iOS platform. -->
        <header name="origin" regexp="http://localhost:8000"/>
        <then>
          <cors max_age="86400"
            credentials="true"
            methods="POST,GET,HEAD"
            exposed_headers="x-eliom-application,x-eliom-location,x-eliom-set-process-cookies,x-eliom-set-cookie-substitutes"/>
        </then>
      </if>
    </host>
  </server>
</ocsigen>
